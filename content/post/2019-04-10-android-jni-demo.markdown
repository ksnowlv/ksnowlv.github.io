---
title: "Android-jni-demo"
date: 2019-04-10
categories:
  - "Android"
tags:
  - "jni"
---
<!--more-->


#### 1.创建`app/src/main/jniLibs`目录#### 2.把so库拷贝到`jniLibs`目录。
#### 3.`JavaCallJNI`内容如下
···objective-c

public class JavaCallJNI {

    static  {
        System.loadLibrary("JNITest");
    }


    public static native int showValue(int value);

}

···

#### 4.`com_ksnowlv_hellojniforjava_JavaCallJNI.h`内容如下：

```objective-c

/* DO NOT EDIT THIS FILE - it is machine generated */

#include <jni.h>

/* Header for class com_ksnowlv_hellojniforjava_JavaCallJNI */

#ifndef _Included_com_ksnowlv_hellojniforjava_JavaCallJNI

#define _Included_com_ksnowlv_hellojniforjava_JavaCallJNI

#ifdef __cplusplus

extern "C" {

#endif
/*
 * Class:     com_ksnowlv_hellojniforjava_JavaCallJNI
 * Method:    showValue
 * Signature: (I)I
 */

JNIEXPORT jint JNICALL Java_com_ksnowlv_hellojniforjava_JavaCallJNI_showValue
  (JNIEnv *, jclass, jint);
  
  #ifdef __cplusplus
}

#endif

#endif

```


#### 5.`com_ksnowlv_hellojniforjava_JavaCallJNI.c`内容如下：
```objective-c

#include "com_ksnowlv_hellojniforjava_JavaCallJNI.h"
#include "PersonExtension.hpp"
#include "JNILog.h"


JNIEXPORT jint JNICALL Java_com_ksnowlv_hellojniforjava_JavaCallJNI_showValue
  (JNIEnv * enc, jclass cls , jint value) {

    LOGI("jni value = %d",value);
	value = value + 1;
	LOGI("jni value +1 = %d",value);
    return value;
  }
  
```
  
#### 6。Android中调用如下：
```objective-c
      int value =  JavaCallJNI.showValue(1);
      Log.e("#### value ","" + value);
```

#### Android
